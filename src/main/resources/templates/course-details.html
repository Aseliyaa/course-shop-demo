<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      lang="en"
      layout:decorate="~{layout}"
>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title th:text="${course.courseName}"></title>
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet"/>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link th:href="@{/css/styles.css}" rel="stylesheet"/>
</head>
<body class="d-flex flex-column">
<main class="flex-shrink-0" layout:fragment="body">

    <section class="py-5 bg-light" id="scroll-target">
        <div class="container px-5 my-5">
            <div class="row gx-5 align-items-center">
                <div class="col-lg-6"><img class="img-fluid rounded mb-5 mb-lg-0" th:src="${course.imgUrl}" alt="..."/>
                </div>
                <div class="col-lg-6">
                    <h2 class="fw-bolder" th:text="${course.courseName}"></h2>
                    <p class="lead fw-normal text-muted mb-0" th:text="${course.description}"></p>
                    <h2 class="fw-bolder" th:text="'Price: ' + ${course.price}"></h2>
                    <form th:method="POST" th:action="@{/{courseId}/cart(courseId=${course.id})}">
                        <input class="btn btn-primary btn-lg" type="submit" value="Add to Cart"/>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <!-- Features section-->
    <section class="py-5" id="features">
        <div class="container px-5 my-2">
            <div class="text-center pb-2"><h2 class="fw-bolder">Short course info</h2></div>
            <div class="row gx-5 mt-4 justify-content-center">
                <div class="col-lg-8">
                    <div class="row row-cols-2 row-cols-md-2 row-cols-lg-4 gx-5">
                        <div class="d-flex justify-content-center flex-column mb-5 h-100">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i
                                    class="bi bi-currency-dollar"></i></div>
                            <h2 class="h5">Price</h2>
                            <p class="mb-0" th:text="${course.price} + '$'"></p>
                        </div>
                        <div class="d-flex justify-content-center flex-column mb-5 h-100">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i
                                    class="bi bi-stopwatch"></i></div>
                            <h2 class="h5">Duration</h2>
                            <p class="mb-0" th:text="${course.duration} + ' houres'"></p>
                        </div>
                        <div class="d-flex justify-content-center flex-column mb-5 h-100">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><<i
                                    class="bi bi-bar-chart-steps"></i></div>
                            <h2 class="h5">Level</h2>
                            <p class="mb-0" th:text="${course.targetLevel}"></p>
                        </div>
                        <div class="d-flex justify-content-center flex-column mb-5 h-100 ">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i
                                    class="bi bi-star-fill"></i></div>
                            <h2 class="h5">Rate</h2>
                            <div class="d-flex flex-row">
                                <p class="mb-0" th:text="${course.rating}"></p><i
                                    class="bi bi-star-fill text-warning"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--   Order-->
    <section class="py-5">
        <!-- Contact form-->
        <div class="container px-5 my-2">
            <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
                <div class="text-center mb-5">
                    <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3">
                        <i class="bi bi-envelope"></i>
                    </div>
                    <h1 class="fw-bolder">Pay online</h1>
                    <div class="row gx-5 justify-content-center">
                        <div class="col-lg-8 col-xl-6">
                            <div class="d-grid">
                                <button class="btn btn-primary btn-lg" id="submitPayButton" type="submit">Pay</button>
                            </div>
                        </div>
                    </div>
                    <h1 class="fw-bolder mt-4">or Get consultation</h1>
                </div>

                <div class="row gx-5 justify-content-center">
                    <div class="col-lg-8 col-xl-6">

                        <form id="contactForm" role="form" method="POST" th:action="@{/categories/{categoryId}/{courseId}(categoryId=${category.id},courseId=${course.id})}" th:object="${consultationForm}"
                              >
                            <!-- Name input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="name" type="text"
                                       th:field="*{fullname}" placeholder="Enter your name..."
                                       required/>
                                <label for="name">Full name</label>
                            </div>
                            <!-- Email address input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="email" th:field="*{email}" type="email"
                                       placeholder="name@example.com"
                                       required/>
                                <label for="email">Email address</label>
                            </div>
                            <!-- Phone number input-->
                            <div class="form-floating mb-3">
                                <input class="form-control" id="phone" type="tel" th:field="*{phone}"
                                       placeholder="(123) 456-7890" required/>
                                <label for="phone">Phone number</label>
                            </div>
                            <!-- Message input-->
                            <div class="form-floating mb-3">
                                <textarea class="form-control" th:field="*{message}" id="message"
                                          type="text"
                                          placeholder="Enter your message here..." style="height: 5rem"
                                          required></textarea>
                                <label for="message">Message</label>
                            </div>

                            <!-- Submit Button-->
                            <div class="d-grid">
                                <button class="btn btn-primary btn-lg" id="submitButton" type="submit">Enroll</button>
                            </div>
                        </form>

                        <div th:if="${param.success}" class="alert alert-success">
                            The form has been successfully submitted!
                        </div>

                        <div th:if="${param.fails}" class="alert alert-danger">
                            You must be logged in!
                            <a class="text-primary" th:href="@{/login}">Login?</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
